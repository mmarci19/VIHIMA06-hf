<div *ngIf="!this.image.gifRoute" class="w-90 d-flex justify-content-center">
  <mat-spinner></mat-spinner>
</div>
<div
  *ngIf="this.image.gifRoute"
  class="w-100 d-flex justify-content-center flex-column"
>
  <div class="text-center">
    <h1>Filename: {{ image.fileName }}</h1>
  </div>
  <img *ngIf="image.gifRoute" [src]="getResourceURL(image.gifRoute)" />
  <div>
    <span>Creator: {{ image.creator }}</span> <br />
    <span>Date: {{ image.date }}</span>
    <br />

    <div class="my-3" *ngFor="let ciff of image.ciffs; let i = index">
      <span>{{ i + 1 }}. ciff</span><br />
      <span>Caption: {{ ciff.caption }}</span>
      <br />
      <span>Tags:</span><br />
      <span *ngFor="let tag of ciff.tags">{{ tag }} </span>
    </div>
  </div>

  <div *ngIf="isAuthorized" class="justify-content-between my-3">
    <mat-card-content>
      <div class="d-flex justify-content-between w-100">
        <mat-form-field class="wide-form-field">
          <mat-label>Új komment</mat-label>
          <textarea
            type="text"
            matInput
            class="w-100"
            [(ngModel)]="newCommentText"
          ></textarea>
        </mat-form-field>
        <button
          mat-raised-button
          color="primary"
          (click)="sendNewComment()"
          class="float-right m-2 text-center"
        >
          Küldés
        </button>
      </div>
    </mat-card-content>
  </div>
  <h2>Kommentek</h2>
  <app-comment
    *ngFor="let comment of image.comments"
    [comment]="comment"
  ></app-comment>
</div>
